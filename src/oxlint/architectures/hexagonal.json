{
  "$schema": "https://raw.githubusercontent.com/oxc-project/oxc/main/npm/oxlint/configuration_schema.json",
  "jsPlugins": ["../plugins/architecture-boundaries.js"],
  "rules": {
    // Hexagonal Architecture (Ports & Adapters)
    //
    // Dependency rule: outer layers depend on inner layers, never the reverse
    // All layers CAN import domain (it's the core)
    //
    //   ┌─────────────────────────────────────────┐
    //   │  infrastructure / presentation (outer)  │
    //   │  ┌─────────────────────────────────┐    │
    //   │  │  application (use-cases, ports) │    │
    //   │  │  ┌─────────────────────────┐    │    │
    //   │  │  │  domain (core business) │    │    │
    //   │  │  └─────────────────────────┘    │    │
    //   │  └─────────────────────────────────┘    │
    //   └─────────────────────────────────────────┘

    "architecture-boundaries/architecture-boundaries": [
      "error",
      {
        "rules": [
          {
            "from": "/domain/",
            "disallow": [
              "/application/",
              "/infrastructure/",
              "/presentation/",
              "/di/",
              "/config/",
              "/generated/"
            ],
            "message": "Domain layer must be pure - cannot import from other layers"
          },
          {
            "from": "/application/use-cases/",
            "disallow": ["/infrastructure/", "/presentation/", "/di/"],
            "message": "Use cases can only depend on domain and ports"
          },
          {
            "from": "/application/ports/",
            "disallow": ["/infrastructure/", "/presentation/", "/di/"],
            "message": "Ports are interfaces - cannot depend on implementations"
          },
          {
            "from": "/infrastructure/inbound/",
            "disallow": ["/infrastructure/outbound/"],
            "message": "Inbound adapters should not import outbound adapters - use DI"
          },
          {
            "from": "/presentation/ui/(atoms|molecules)/",
            "disallow": ["/navigation/"],
            "message": "Atoms and molecules must be pure - no navigation imports"
          },
          {
            "from": "/presentation/features/",
            "disallow": ["/presentation/features/(?!common)"],
            "message": "Features should be independent - use shared code in features/common"
          }
        ]
      }
    ]
  }
}
